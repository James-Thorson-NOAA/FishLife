<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Fit_model estimates parameters and predicts values from a multivariate random-walk model for fish traits"><title>Fit and predict fish traits — Fit_model • FishLife</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Fit and predict fish traits — Fit_model"><meta property="og:description" content="Fit_model estimates parameters and predicts values from a multivariate random-walk model for fish traits"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">FishLife</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">3.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/Access.html">Accessing predicted values</a>
    <a class="dropdown-item" href="../articles/Archetypes.html">Archetypes</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="http://github.com/James-Thorson-NOAA/FishLife/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Fit and predict fish traits</h1>
      <small class="dont-index">Source: <a href="http://github.com/James-Thorson-NOAA/FishLife/blob/HEAD/R/Fit_model.R" class="external-link"><code>R/Fit_model.R</code></a></small>
      <div class="d-none name"><code>Fit_model.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>Fit_model</code> estimates parameters and predicts values from a multivariate random-walk model for fish traits</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">Fit_model</span><span class="op">(</span></span>
<span>  text <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  Database <span class="op">=</span> <span class="fu">FishLife</span><span class="fu">::</span><span class="va"><a href="FishBase_and_RAM.html">FishBase_and_RAM</a></span>,</span>
<span>  tree <span class="op">=</span> <span class="va">Database</span><span class="op">$</span><span class="va">tree</span>,</span>
<span>  Y_ij <span class="op">=</span> <span class="va">Database</span><span class="op">$</span><span class="va">Y_ij</span>,</span>
<span>  Z_ik <span class="op">=</span> <span class="va">Database</span><span class="op">$</span><span class="va">Z_ik</span>,</span>
<span>  Use_REML <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  N_factors <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  N_obsfactors <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  min_replicate_measurements <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  SR_obs <span class="op">=</span> <span class="va">Database</span><span class="op">$</span><span class="va">SR_obs</span>,</span>
<span>  StockData <span class="op">=</span> <span class="va">Database</span><span class="op">$</span><span class="va">StockData</span>,</span>
<span>  group_j <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">ncol</a></span><span class="op">(</span><span class="va">Y_ij</span><span class="op">)</span> <span class="op">-</span> <span class="fl">1</span>,</span>
<span>  Version <span class="op">=</span> <span class="st">"Taxon_v3_0_0"</span>,</span>
<span>  TmbDir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"executables"</span>, package <span class="op">=</span> <span class="st">"FishLife"</span><span class="op">)</span>,</span>
<span>  RunDir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span>pattern <span class="op">=</span> <span class="st">"run_"</span>, tmpdir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>, fileext <span class="op">=</span> <span class="st">"/"</span><span class="op">)</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  debug_mode <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  j_SR <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">ncol</a></span><span class="op">(</span><span class="va">Y_ij</span><span class="op">)</span> <span class="op">-</span> <span class="fl">3</span><span class="op">:</span><span class="fl">1</span>,</span>
<span>  additional_variance <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span>,</span>
<span>  SD_b_stock <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  b_type <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  Turn_off_taxonomy <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  Pen_lowvar_lnRhat <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  lowerbound_MLSPS <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  Use_RAM_Mvalue_TF <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  rho_space <span class="op">=</span> <span class="st">"natural"</span>,</span>
<span>  n_sims <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>  n_batches <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  include_r <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  PredTF_stock <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  extract_covariance <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  run_model <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  multinomial_for_factors <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  Params <span class="op">=</span> <span class="st">"Generate"</span>,</span>
<span>  Random <span class="op">=</span> <span class="st">"Generate"</span>,</span>
<span>  Map <span class="op">=</span> <span class="st">"Generate"</span>,</span>
<span>  add_predictive <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>text</dt>
<dd><p>structural equation model structure, passed to either <code><a href="https://rdrr.io/pkg/sem/man/specifyModel.html" class="external-link">specifyModel</a></code>
and then parsed to control the set of path coefficients and variance-covariance parameters</p></dd>


<dt>Database</dt>
<dd><p>Whether to use results for both adult and stock-recruit parameters, <code>Database="FishBase_and_RAM"</code>, or just adult parameters, <code>Database="FishBase"</code></p></dd>


<dt>tree</dt>
<dd><p>phylogenetic structure, using class <code><a href="https://rdrr.io/pkg/ape/man/as.phylo.html" class="external-link">as.phylo</a></code>.  If <code>tree=NULL</code>
then argument <code>Z_ik</code> is instead converted to a tree using 
<code>ape::as.phylo( ~Class/Order/Family/Genus/GenusSpecies, ... )</code> to convert it to a tree</p></dd>


<dt>Y_ij</dt>
<dd><p>a data frame of trait values (perhaps log-scaled) with rows for records, and tagged-columns for traits</p></dd>


<dt>Z_ik</dt>
<dd><p>a data frame of taxonomic classification for each row of <code>Y_ij</code></p></dd>


<dt>Use_REML</dt>
<dd><p>OPTIONAL boolean whether to use maximum marginal likelihood or restricted maximum likelihood (termed "REML")</p></dd>


<dt>N_factors</dt>
<dd><p>Number of factors in decomposition of covariance for random-walk along evolutionary tree (0 means a diagonal but unequal covariance; negative is the sum of a factor decomposition and a diagonal-but-unequal covariance)</p></dd>


<dt>N_obsfactors</dt>
<dd><p>Number of factors in decomposotion of observation covariance (same format as <code>N_obsfactors</code>)</p></dd>


<dt>min_replicate_measurements</dt>
<dd><p>specified threshold for the number of measurements for a given continuous traits,
where any continuous trait having fewer replicated measurements for at least one taxon will have the 
measurement variance fixed at an arbitrarily low value, such that estimated traits are forced
to approach the unreplicated measurements</p></dd>


<dt>SR_obs</dt>
<dd><p>Stock-recruit records from RAM Legacy stock-recruit database</p></dd>


<dt>StockData</dt>
<dd><p>Auxiliary information for every stock with stock-recruit information</p></dd>


<dt>Version</dt>
<dd><p>TMB version number</p></dd>


<dt>TmbDir</dt>
<dd><p>Directory containing pre-compiled TMB script</p></dd>


<dt>RunDir</dt>
<dd><p>Directory to use when compiling and running TMB script (different to avoid problems with read-write restrictions)</p></dd>


<dt>verbose</dt>
<dd><p>Boolean whether to print diagnostics to terminal</p></dd>


<dt>run_model</dt>
<dd><p>Boolean indicating whether to run the model or just return the built TMB object</p></dd>


<dt>Params</dt>
<dd><p>optional list of parameter estimates to use as starting values (Default <code>Params="Generate"</code> starts from random values)</p></dd>


<dt>...</dt>
<dd><p>other paramers passed to <code>fit_tmb</code></p></dd>


<dt>Process_cov</dt>
<dd><p>Whether process-error covariance is equal or differs multiplicatively for different taxonomic levels (Options:  "Equal" or "Unequal")</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>Tagged list containing objects from FishLife run (first 9 slots constitute list 'Estimate_database' for archiving results)</p><dl><dt>tree</dt>
<dd><p>The phylogenetic tree used for analysis, whether inputted or generated from taxonomy based on <code>Z_ik</code></p></dd>

  <dt>SEM_model</dt>
<dd><p>The phylogenetic tree used for analysis, whether inputted or generated from taxonomy based on <code>Z_ik</code></p></dd>

  <dt>N_factors</dt>
<dd><p>Number of factors used for evolution in life-history model</p></dd>

  <dt>N_obsfactors</dt>
<dd><p>Number of factors used for measurent-error in life-history model</p></dd>

  <dt>Use_REML</dt>
<dd><p>Boolean, whether REML was used for model</p></dd>

  <dt>Cov_gjj</dt>
<dd><p>Covariance among traits for every taxon in tree</p></dd>

  <dt>ParentChild_gz</dt>
<dd><p>Record of taxonomic tree</p></dd>

  <dt>ParHat</dt>
<dd><p>Parameter estimates and predictions</p></dd>

  <dt>g_i</dt>
<dd><p>Associates every observation with a level of the taxonomic tree</p></dd>

  <dt>Y_ij</dt>
<dd><p>Raw data</p></dd>

  <dt>Z_ik</dt>
<dd><p>Taxonomy for each datum</p></dd>

  <dt>Obj</dt>
<dd><p>The built TMB object</p></dd>

  <dt>Opt</dt>
<dd><p>Output from optimization</p></dd>

  <dt>Report</dt>
<dd><p>tagged list of report-file from TMB</p></dd>

  <dt>ParHat_SE</dt>
<dd><p>Estimated/predicted standard errors for fixed/random effects</p></dd>


</dl></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="co"># Load data set</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://github.com/James-Thorson-NOAA/FishLife" class="external-link">FishLife</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Simulate data</span></span></span>
<span class="r-in"><span><span class="va">tree</span> <span class="op">=</span> <span class="fu">ape</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/ape/man/rtree.html" class="external-link">rtree</a></span><span class="op">(</span>n<span class="op">=</span><span class="fl">100</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">xfit</span> <span class="op">=</span> <span class="va">x</span> <span class="op">=</span> <span class="fl">1</span> <span class="op">+</span> <span class="fl">0.3</span> <span class="op">*</span> <span class="fu">phylolm</span><span class="fu">::</span><span class="fu">rTrait</span><span class="op">(</span>n <span class="op">=</span> <span class="fl">1</span>, phy<span class="op">=</span><span class="va">tree</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">yfit</span> <span class="op">=</span> <span class="va">y</span> <span class="op">=</span> <span class="fl">2</span> <span class="op">+</span> <span class="fl">1</span><span class="op">*</span><span class="va">x</span> <span class="op">+</span> <span class="fl">0.3</span> <span class="op">*</span> <span class="fu">phylolm</span><span class="fu">::</span><span class="fu">rTrait</span><span class="op">(</span>n <span class="op">=</span> <span class="fl">1</span>, phy<span class="op">=</span><span class="va">tree</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">drop_x</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span> <span class="fl">1</span><span class="op">:</span><span class="fu">ape</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/ape/man/summary.phylo.html" class="external-link">Ntip</a></span><span class="op">(</span><span class="va">tree</span><span class="op">)</span>, replace<span class="op">=</span><span class="cn">FALSE</span>, size<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu">ape</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/ape/man/summary.phylo.html" class="external-link">Ntip</a></span><span class="op">(</span><span class="va">tree</span><span class="op">)</span><span class="op">*</span><span class="fl">0.3</span><span class="op">)</span> <span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">xfit</span><span class="op">[</span><span class="va">drop_x</span><span class="op">]</span> <span class="op">=</span> <span class="cn">NA</span></span></span>
<span class="r-in"><span><span class="va">drop_y</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span> <span class="fl">1</span><span class="op">:</span><span class="fu">ape</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/ape/man/summary.phylo.html" class="external-link">Ntip</a></span><span class="op">(</span><span class="va">tree</span><span class="op">)</span>, replace<span class="op">=</span><span class="cn">FALSE</span>, size<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu">ape</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/ape/man/summary.phylo.html" class="external-link">Ntip</a></span><span class="op">(</span><span class="va">tree</span><span class="op">)</span><span class="op">*</span><span class="fl">0.3</span><span class="op">)</span> <span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">yfit</span><span class="op">[</span><span class="va">drop_y</span><span class="op">]</span> <span class="op">=</span> <span class="cn">NA</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Fit model</span></span></span>
<span class="r-in"><span><span class="va">Fit</span> <span class="op">=</span> <span class="fu">Fit_model</span><span class="op">(</span></span></span>
<span class="r-in"><span>  text <span class="op">=</span> <span class="st">"x -&gt; y, p"</span>,</span></span>
<span class="r-in"><span>  Database <span class="op">=</span> <span class="cn">NULL</span>,</span></span>
<span class="r-in"><span>  Use_REML <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>  Y_ij <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span> x<span class="op">=</span><span class="va">xfit</span>, y<span class="op">=</span><span class="va">yfit</span> <span class="op">)</span>,</span></span>
<span class="r-in"><span>  tree <span class="op">=</span> <span class="va">tree</span>,</span></span>
<span class="r-in"><span>  min_replicate_measurements <span class="op">=</span> <span class="cn">Inf</span> <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># S3-defaults</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">Fit</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/stats/coef.html" class="external-link">coef</a></span><span class="op">(</span><span class="va">Fit</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Convet and plot using sem</span></span></span>
<span class="r-in"><span><span class="va">mysem</span> <span class="op">=</span> <span class="fu"><a href="setAs.html">as</a></span><span class="op">(</span><span class="va">Fit</span>,<span class="st">"sem"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">sem</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/sem/man/pathDiagram.html" class="external-link">pathDiagram</a></span><span class="op">(</span> model <span class="op">=</span> <span class="va">mysem</span>,</span></span>
<span class="r-in"><span>                  style <span class="op">=</span> <span class="st">"traditional"</span>,</span></span>
<span class="r-in"><span>                  edge.labels <span class="op">=</span> <span class="st">"values"</span> <span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">myplot</span> <span class="op">=</span> <span class="fu">semPlot</span><span class="fu">::</span><span class="fu">semPlotModel</span><span class="op">(</span> <span class="fu"><a href="setAs.html">as</a></span><span class="op">(</span><span class="va">Fit</span>,<span class="st">"sem"</span><span class="op">)</span> <span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">semPlot</span><span class="fu">::</span><span class="fu">semPaths</span><span class="op">(</span> <span class="va">myplot</span>,</span></span>
<span class="r-in"><span>                   nodeLabels <span class="op">=</span> <span class="va">myplot</span><span class="op">@</span><span class="va">Vars</span><span class="op">$</span><span class="va">name</span> <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Convert and plot using phylobase / phylosignal</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/fmichonneau/phylobase" class="external-link">phylobase</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span> <span class="fu"><a href="setAs.html">as</a></span><span class="op">(</span><span class="va">Fit</span>,<span class="st">"phylo4d"</span><span class="op">)</span> <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by James Thorson.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

