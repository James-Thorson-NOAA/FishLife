<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="FishLife">
<title>Accessing predicted values • FishLife</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Accessing predicted values">
<meta property="og:description" content="FishLife">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">FishLife</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">3.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/Access.html">Accessing predicted values</a>
    <a class="dropdown-item" href="../articles/Archetypes.html">Archetypes</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="http://github.com/James-Thorson-NOAA/FishLife/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Accessing predicted values</h1>
                        <h4 data-toc-skip class="author">James
Thorson</h4>
            
            <h4 data-toc-skip class="date">2024-02-29</h4>
      
      <small class="dont-index">Source: <a href="http://github.com/James-Thorson-NOAA/FishLife/blob/HEAD/vignettes/Access.Rmd" class="external-link"><code>vignettes/Access.Rmd</code></a></small>
      <div class="d-none name"><code>Access.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="description">Description<a class="anchor" aria-label="anchor" href="#description"></a>
</h2>
<p><code>FishLife</code> is an R package for estimating evolutionary
trade-offs among traits for &gt;34,000 described fishes. It also applies
phylogenetic trait imputation, i.e., is used to predict and reposit
predicted life-history parameters for all fishes, where imputed values
are informed by both life-history correlations and similarities among
related species. The package comes with three databases and pre-run
results:</p>
<ul>
<li>The database and results described by <a href="https://doi.org/10.1111/2041-210X.14076" class="external-link">Thorson et
al. (2023)</a>, introducing phylogenetic structural equation models and
combining this with phylogenetic comparative methods to describe
trade-offs among a larger set of life-history, morphometric, behavioral,
trophic, and reproductive traits;</li>
<li>The database and results described by <a href="https://doi.org/10.1111/faf.12427" class="external-link">Thorson (2020)</a>, applying
phylogenetic factor analysis to the original database as well as RAM
Legacy database records of stock-recruit relationships to estimate a
full life-cycle model for all species;</li>
<li>The original database and results described by <a href="https://doi.org/10.1002/eap.1606" class="external-link">Thorson Munch Cope Gao
(2017)</a>, introducing phylogenetic factor analysis and using records
of size, growth, maturity, and mortality parameters from FishBase as
downloaded in 2016.</li>
</ul>
<p>In this vignete, we show how to access output from these various
models.</p>
<div class="section level3">
<h3 id="explore-predictions-online">Explore predictions online<a class="anchor" aria-label="anchor" href="#explore-predictions-online"></a>
</h3>
<p>A graphical user interface (GUI) is available <a href="https://james-thorson.shinyapps.io/FishLife/" class="external-link">online</a>. However,
it has not been updated recently, and only shows results from Thorson
Munch Cope Gao (2017).</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Install and load package</span></span>
<span><span class="co"># devtools::install_github("james-thorson/FishLife", dep=TRUE)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span> <span class="va"><a href="http://github.com/James-Thorson-NOAA/FishLife" class="external-link">FishLife</a></span> <span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="thorson-et-al--2023-results">Thorson et al. 2023 results<a class="anchor" aria-label="anchor" href="#thorson-et-al--2023-results"></a>
</h2>
<p>Starting with Thorson et al. (2023), FishLife uses <em>ape</em> class
<code>phylo</code> to represent relatedness among taxa. This has several
benefits:</p>
<ul>
<li>It facilitates collaboration between evolutionary and ecological
researchers for fishes;</li>
<li>It represents relatedness based on evolutionary distance, rather
than simply approximating relatedness based on taxonomy;</li>
<li>It allows <em>FishLife</em> to use well-maintained dependencies to
input(read, subset, and merge) or output (plot and tabulate)
results.</li>
</ul>
<p>However, this also results in changes in how results are accessed.
Although we provide a function
<code>as(FishLife::FishBase_and_Morphometrics,"phylo4d")</code>, we find
that it is too slow to be useful. Therefore, we instead recommend
searching for a taxon name manually. We demonstrate this for red
snapper:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">edge_names</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span> <span class="va">FishBase_and_Morphometrics</span><span class="op">$</span><span class="va">tree</span><span class="op">$</span><span class="va">tip.label</span>,</span>
<span>                <span class="va">FishBase_and_Morphometrics</span><span class="op">$</span><span class="va">tree</span><span class="op">$</span><span class="va">node.label</span><span class="op">[</span><span class="op">-</span><span class="fl">1</span><span class="op">]</span> <span class="op">)</span> <span class="co"># Removing root</span></span>
<span>                </span>
<span><span class="co">#</span></span>
<span><span class="va">which_g</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/match.html" class="external-link">match</a></span><span class="op">(</span> <span class="st">"Lutjanus campechanus"</span>, <span class="va">edge_names</span> <span class="op">)</span></span>
<span><span class="va">Table2023</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span> </span>
<span>  Mean <span class="op">=</span> <span class="va">FishBase_and_Morphometrics</span><span class="op">$</span><span class="va">beta_gv</span><span class="op">[</span><span class="va">which_g</span>,<span class="op">]</span>,</span>
<span>  SE <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/diag.html" class="external-link">diag</a></span><span class="op">(</span><span class="va">FishBase_and_Morphometrics</span><span class="op">$</span><span class="va">Cov_gvv</span><span class="op">[</span><span class="va">which_g</span>,,<span class="op">]</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span> <span class="va">Table2023</span>, digits<span class="op">=</span><span class="fl">3</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left"></th>
<th align="right">Mean</th>
<th align="right">SE</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">log(age_max)</td>
<td align="right">3.573</td>
<td align="right">0.136</td>
</tr>
<tr class="even">
<td align="left">trophic_level</td>
<td align="right">4.133</td>
<td align="right">0.323</td>
</tr>
<tr class="odd">
<td align="left">log(aspect_ratio)</td>
<td align="right">0.614</td>
<td align="right">0.140</td>
</tr>
<tr class="even">
<td align="left">log(fecundity)</td>
<td align="right">15.976</td>
<td align="right">0.518</td>
</tr>
<tr class="odd">
<td align="left">log(growth_coefficient)</td>
<td align="right">-1.863</td>
<td align="right">0.111</td>
</tr>
<tr class="even">
<td align="left">temperature</td>
<td align="right">23.815</td>
<td align="right">0.730</td>
</tr>
<tr class="odd">
<td align="left">log(length_max)</td>
<td align="right">4.451</td>
<td align="right">0.090</td>
</tr>
<tr class="even">
<td align="left">log(length_infinity)</td>
<td align="right">4.546</td>
<td align="right">0.046</td>
</tr>
<tr class="odd">
<td align="left">log(length_maturity)</td>
<td align="right">3.526</td>
<td align="right">0.126</td>
</tr>
<tr class="even">
<td align="left">log(age_maturity)</td>
<td align="right">1.175</td>
<td align="right">0.231</td>
</tr>
<tr class="odd">
<td align="left">log(natural_mortality)</td>
<td align="right">-1.420</td>
<td align="right">0.123</td>
</tr>
<tr class="even">
<td align="left">log(weight_infinity)</td>
<td align="right">9.415</td>
<td align="right">0.145</td>
</tr>
<tr class="odd">
<td align="left">log(max_body_depth)</td>
<td align="right">-0.038</td>
<td align="right">0.010</td>
</tr>
<tr class="even">
<td align="left">log(max_body_width)</td>
<td align="right">-0.895</td>
<td align="right">0.010</td>
</tr>
<tr class="odd">
<td align="left">log(lower_jaw_length)</td>
<td align="right">-0.874</td>
<td align="right">0.010</td>
</tr>
<tr class="even">
<td align="left">log(min_caudal_pedoncule_depth)</td>
<td align="right">-1.230</td>
<td align="right">0.010</td>
</tr>
<tr class="odd">
<td align="left">log(offspring_size)</td>
<td align="right">-0.234</td>
<td align="right">0.150</td>
</tr>
<tr class="even">
<td align="left">base</td>
<td align="right">0.906</td>
<td align="right">0.244</td>
</tr>
<tr class="odd">
<td align="left">spawning_typeguarders</td>
<td align="right">0.035</td>
<td align="right">0.140</td>
</tr>
<tr class="even">
<td align="left">spawning_typebearers</td>
<td align="right">0.058</td>
<td align="right">0.202</td>
</tr>
<tr class="odd">
<td align="left">base</td>
<td align="right">0.109</td>
<td align="right">0.151</td>
</tr>
<tr class="even">
<td align="left">habitatbathymetric</td>
<td align="right">0.043</td>
<td align="right">0.138</td>
</tr>
<tr class="odd">
<td align="left">habitatbenthopelagic</td>
<td align="right">0.026</td>
<td align="right">0.081</td>
</tr>
<tr class="even">
<td align="left">habitatreefassociated</td>
<td align="right">0.786</td>
<td align="right">0.258</td>
</tr>
<tr class="odd">
<td align="left">habitatpelagic</td>
<td align="right">0.036</td>
<td align="right">0.123</td>
</tr>
<tr class="even">
<td align="left">base</td>
<td align="right">0.019</td>
<td align="right">0.029</td>
</tr>
<tr class="odd">
<td align="left">feeding_modemacrofauna</td>
<td align="right">0.944</td>
<td align="right">0.159</td>
</tr>
<tr class="even">
<td align="left">feeding_modeplanktivorous_or_other</td>
<td align="right">0.037</td>
<td align="right">0.154</td>
</tr>
<tr class="odd">
<td align="left">base</td>
<td align="right">0.859</td>
<td align="right">0.234</td>
</tr>
<tr class="even">
<td align="left">body_shapeelongated</td>
<td align="right">0.025</td>
<td align="right">0.081</td>
</tr>
<tr class="odd">
<td align="left">body_shapeshort_and_or_deep</td>
<td align="right">0.068</td>
<td align="right">0.153</td>
</tr>
<tr class="even">
<td align="left">body_shapeeellike</td>
<td align="right">0.035</td>
<td align="right">0.146</td>
</tr>
<tr class="odd">
<td align="left">body_shapeother</td>
<td align="right">0.013</td>
<td align="right">0.096</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="thorson-2020-results">Thorson 2020 results<a class="anchor" aria-label="anchor" href="#thorson-2020-results"></a>
</h2>
<p>The Thorson (2020) analysis sought to maintain customized code for
accessing and plotting results. We again demonstrate this for red
snapper, which is within the FishBase database used to train the model
so its predictions are relatively precise.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Get basic plot for Lutjanus campechanus</span></span>
<span><span class="va">Taxa</span> <span class="op">=</span> <span class="fu"><a href="../reference/Search_species.html">Search_species</a></span><span class="op">(</span> Genus <span class="op">=</span> <span class="st">"Lutjanus"</span>,</span>
<span>                       Species <span class="op">=</span> <span class="st">"campechanus"</span><span class="op">)</span><span class="op">$</span><span class="va">match_taxonomy</span></span>
<span><span class="va">Predict</span> <span class="op">=</span> <span class="fu"><a href="../reference/Plot_taxa.html">Plot_taxa</a></span><span class="op">(</span> <span class="va">Taxa</span>, </span>
<span>                     mfrow<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span>,<span class="fl">2</span><span class="op">)</span> <span class="op">)</span></span>
<span><span class="co">#&gt;      [,1]           [,2]         </span></span>
<span><span class="co">#&gt; [1,] "K"            "M"          </span></span>
<span><span class="co">#&gt; [2,] "Winfinity"    "Loo"        </span></span>
<span><span class="co">#&gt; [3,] "tmax"         "tm"         </span></span>
<span><span class="co">#&gt; [4,] "Lm"           "Temperature"</span></span>
<span><span class="co">#&gt; [5,] "ln_margsd"    "rho"        </span></span>
<span><span class="co">#&gt; [6,] "logitbound_h" "ln_r"</span></span></code></pre></div>
<p><img src="Access_files/figure-html/unnamed-chunk-4-1.png" width="768"></p>
<p>We then show updated values for the predictive mean and standard
errors…</p>
<table class="table">
<thead><tr class="header">
<th align="left"></th>
<th align="right">Mean</th>
<th align="right">SE</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Loo</td>
<td align="right">4.517</td>
<td align="right">0.053</td>
</tr>
<tr class="even">
<td align="left">K</td>
<td align="right">-1.777</td>
<td align="right">0.097</td>
</tr>
<tr class="odd">
<td align="left">Winfinity</td>
<td align="right">9.287</td>
<td align="right">0.128</td>
</tr>
<tr class="even">
<td align="left">tmax</td>
<td align="right">2.763</td>
<td align="right">0.145</td>
</tr>
<tr class="odd">
<td align="left">tm</td>
<td align="right">1.192</td>
<td align="right">0.250</td>
</tr>
<tr class="even">
<td align="left">M</td>
<td align="right">-1.378</td>
<td align="right">0.178</td>
</tr>
<tr class="odd">
<td align="left">Lm</td>
<td align="right">3.722</td>
<td align="right">0.100</td>
</tr>
<tr class="even">
<td align="left">Temperature</td>
<td align="right">24.230</td>
<td align="right">0.573</td>
</tr>
<tr class="odd">
<td align="left">ln_var</td>
<td align="right">-2.556</td>
<td align="right">0.821</td>
</tr>
<tr class="even">
<td align="left">rho</td>
<td align="right">0.663</td>
<td align="right">0.178</td>
</tr>
<tr class="odd">
<td align="left">ln_MASPS</td>
<td align="right">1.223</td>
<td align="right">1.172</td>
</tr>
<tr class="even">
<td align="left">ln_margsd</td>
<td align="right">-0.904</td>
<td align="right">0.295</td>
</tr>
<tr class="odd">
<td align="left">h</td>
<td align="right">0.770</td>
<td align="right">0.157</td>
</tr>
<tr class="even">
<td align="left">logitbound_h</td>
<td align="right">1.143</td>
<td align="right">1.149</td>
</tr>
<tr class="odd">
<td align="left">ln_Fmsy_over_M</td>
<td align="right">1.089</td>
<td align="right">0.730</td>
</tr>
<tr class="even">
<td align="left">ln_Fmsy</td>
<td align="right">-0.288</td>
<td align="right">0.767</td>
</tr>
<tr class="odd">
<td align="left">ln_r</td>
<td align="right">-1.171</td>
<td align="right">0.507</td>
</tr>
<tr class="even">
<td align="left">r</td>
<td align="right">0.348</td>
<td align="right">0.158</td>
</tr>
<tr class="odd">
<td align="left">ln_G</td>
<td align="right">2.298</td>
<td align="right">0.129</td>
</tr>
<tr class="even">
<td align="left">G</td>
<td align="right">10.040</td>
<td align="right">1.300</td>
</tr>
</tbody>
</table>
<p>where <code>Predict[[1]]$Mean_pred</code> provides mean values, and
<code>Predict[[1]]$Cov_pred</code> provides the predictive covariance
for life-history parameters.</p>
<p>Traits are in log-space except for <code>Temperature</code>,
generation time <code>G</code> and intrinsict growth rate
<code>r</code>. If an analyst wants to back-transform a trait that is
reported in log-space, thought should be given to whether an analyst
wants to use a predictive median or predictive mean. The predictive
median is calculated by expnoentiating log-space values, while a
predictive mean requires some bias-correction (perhaps based on a
lognormal assumption using the predictive variance). Finally generation
time <code>G</code> and intrinsict growth rate <code>r</code> are
calculated based on a nonlinear transformation of other traits using the
Euler-Lotka formula, and we therefore report the mean in either
log-space or natural space, obtained by sampling from the constituent
traits, calculating the values for each sample, and then computing the
mean of those calculations. Given this procedure, exponentiating
<code>ln_G</code> will not typically equal <code>G</code> and the same
holds for <code>ln_r</code> and <code>r</code>.</p>
<div class="section level4">
<h4 id="data-poor-cortez-rockfish">Data-poor: Cortez rockfish<a class="anchor" aria-label="anchor" href="#data-poor-cortez-rockfish"></a>
</h4>
<p>Next we demonstrate cortez rockfish, which is not within the FishBase
database used to train the model, so its predictions are relatively
based on information from related species within genus
<em>Sebastes</em>.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Get basic plot for Sebastes cortezi</span></span>
<span><span class="va">Taxa</span> <span class="op">=</span> <span class="fu"><a href="../reference/Search_species.html">Search_species</a></span><span class="op">(</span> Genus <span class="op">=</span> <span class="st">"Sebastes"</span>,</span>
<span>                       Species <span class="op">=</span> <span class="st">"cortezi"</span><span class="op">)</span><span class="op">$</span><span class="va">match_taxonomy</span></span>
<span><span class="va">Predict</span> <span class="op">=</span> <span class="fu"><a href="../reference/Plot_taxa.html">Plot_taxa</a></span><span class="op">(</span> <span class="va">Taxa</span>, </span>
<span>                     mfrow<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span>,<span class="fl">2</span><span class="op">)</span> <span class="op">)</span></span>
<span><span class="co">#&gt;      [,1]           [,2]         </span></span>
<span><span class="co">#&gt; [1,] "K"            "M"          </span></span>
<span><span class="co">#&gt; [2,] "Winfinity"    "Loo"        </span></span>
<span><span class="co">#&gt; [3,] "tmax"         "tm"         </span></span>
<span><span class="co">#&gt; [4,] "Lm"           "Temperature"</span></span>
<span><span class="co">#&gt; [5,] "ln_margsd"    "rho"        </span></span>
<span><span class="co">#&gt; [6,] "logitbound_h" "ln_r"</span></span></code></pre></div>
<p><img src="Access_files/figure-html/unnamed-chunk-6-1.png" width="768"></p>
</div>
<div class="section level4">
<h4 id="high-level-scombridae">High-level: Scombridae<a class="anchor" aria-label="anchor" href="#high-level-scombridae"></a>
</h4>
<p>Third, we demonstrate predictions for family <em>Scombridae</em>, to
show how predictions are available for higher-level taxonomies.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Get basic plot for Family Scombridae </span></span>
<span><span class="fu"><a href="../reference/Plot_taxa.html">Plot_taxa</a></span><span class="op">(</span> <span class="fu"><a href="../reference/Search_species.html">Search_species</a></span><span class="op">(</span>Family<span class="op">=</span><span class="st">"Scombridae"</span><span class="op">)</span><span class="op">$</span><span class="va">match_taxonomy</span>, mfrow<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span>,<span class="fl">2</span><span class="op">)</span> <span class="op">)</span></span>
<span><span class="co">#&gt;      [,1]           [,2]         </span></span>
<span><span class="co">#&gt; [1,] "K"            "M"          </span></span>
<span><span class="co">#&gt; [2,] "Winfinity"    "Loo"        </span></span>
<span><span class="co">#&gt; [3,] "tmax"         "tm"         </span></span>
<span><span class="co">#&gt; [4,] "Lm"           "Temperature"</span></span>
<span><span class="co">#&gt; [5,] "ln_margsd"    "rho"        </span></span>
<span><span class="co">#&gt; [6,] "logitbound_h" "ln_r"</span></span></code></pre></div>
<p><img src="Access_files/figure-html/unnamed-chunk-7-1.png" width="768"></p>
</div>
<div class="section level4">
<h4 id="comparison-trouts">Comparison: Trouts<a class="anchor" aria-label="anchor" href="#comparison-trouts"></a>
</h4>
<p>Fourth, we compare predictions for two species, brown and rainbow
trout.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Compare two species</span></span>
<span><span class="va">Taxa</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span> <span class="fu"><a href="../reference/Search_species.html">Search_species</a></span><span class="op">(</span>Genus<span class="op">=</span><span class="st">"Oncorhynchus"</span>,Species<span class="op">=</span><span class="st">"mykiss"</span>,add_ancestors<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span><span class="op">$</span><span class="va">match_taxonomy</span>,</span>
<span>  <span class="fu"><a href="../reference/Search_species.html">Search_species</a></span><span class="op">(</span>Genus<span class="op">=</span><span class="st">"Salmo"</span>,Species<span class="op">=</span><span class="st">"Trutta"</span>,add_ancestors<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span><span class="op">$</span><span class="va">match_taxonomy</span> <span class="op">)</span></span>
<span><span class="fu"><a href="../reference/Plot_taxa.html">Plot_taxa</a></span><span class="op">(</span> <span class="va">Taxa</span>, mfrow<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span>,<span class="fl">2</span><span class="op">)</span> <span class="op">)</span></span>
<span><span class="co">#&gt;      [,1]           [,2]         </span></span>
<span><span class="co">#&gt; [1,] "K"            "M"          </span></span>
<span><span class="co">#&gt; [2,] "Winfinity"    "Loo"        </span></span>
<span><span class="co">#&gt; [3,] "tmax"         "tm"         </span></span>
<span><span class="co">#&gt; [4,] "Lm"           "Temperature"</span></span>
<span><span class="co">#&gt; [5,] "ln_margsd"    "rho"        </span></span>
<span><span class="co">#&gt; [6,] "logitbound_h" "ln_r"</span></span></code></pre></div>
<p><img src="Access_files/figure-html/unnamed-chunk-8-1.png" width="768"></p>
</div>
</div>
<div class="section level2">
<h2 id="thorson-et-al--2017-results">Thorson et al. (2017) results<a class="anchor" aria-label="anchor" href="#thorson-et-al--2017-results"></a>
</h2>
<p>Results from Thorson et al. (2017) are accessed similarly, but
indicating the earlier database:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Get basic plot for Lutjanus campechanus</span></span>
<span><span class="va">Taxa</span> <span class="op">=</span> <span class="fu"><a href="../reference/Search_species.html">Search_species</a></span><span class="op">(</span> Genus <span class="op">=</span> <span class="st">"Lutjanus"</span>,</span>
<span>                       Species<span class="op">=</span><span class="st">"campechanus"</span>,</span>
<span>                       Database <span class="op">=</span> <span class="va">FishBase</span> <span class="op">)</span><span class="op">$</span><span class="va">match_taxonomy</span></span>
<span><span class="va">params</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span> <span class="st">"Loo"</span>, <span class="st">"K"</span>, <span class="st">"Winfinity"</span>, <span class="st">"tmax"</span>, </span>
<span>                    <span class="st">"tm"</span>, <span class="st">"M"</span>, <span class="st">"Lm"</span>, <span class="st">"Temperature"</span><span class="op">)</span>, ncol<span class="op">=</span><span class="fl">2</span> <span class="op">)</span></span>
<span><span class="va">Predict</span> <span class="op">=</span> <span class="fu"><a href="../reference/Plot_taxa.html">Plot_taxa</a></span><span class="op">(</span> <span class="va">Taxa</span>, </span>
<span>                     mfrow<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">2</span><span class="op">)</span>,</span>
<span>                     Database <span class="op">=</span> <span class="va">FishBase</span>,</span>
<span>                     params <span class="op">=</span> <span class="va">params</span> <span class="op">)</span></span>
<span><span class="co">#&gt;      [,1]        [,2]         </span></span>
<span><span class="co">#&gt; [1,] "Loo"       "tm"         </span></span>
<span><span class="co">#&gt; [2,] "K"         "M"          </span></span>
<span><span class="co">#&gt; [3,] "Winfinity" "Lm"         </span></span>
<span><span class="co">#&gt; [4,] "tmax"      "Temperature"</span></span></code></pre></div>
<p><img src="Access_files/figure-html/unnamed-chunk-9-1.png" width="768"></p>
<p>And we can again access the mean predicted values:</p>
<table class="table">
<thead><tr class="header">
<th align="left"></th>
<th align="right">Mean</th>
<th align="right">SE</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Loo</td>
<td align="right">4.497</td>
<td align="right">0.051</td>
</tr>
<tr class="even">
<td align="left">K</td>
<td align="right">-1.768</td>
<td align="right">0.103</td>
</tr>
<tr class="odd">
<td align="left">Winfinity</td>
<td align="right">9.313</td>
<td align="right">0.156</td>
</tr>
<tr class="even">
<td align="left">tmax</td>
<td align="right">2.739</td>
<td align="right">0.153</td>
</tr>
<tr class="odd">
<td align="left">tm</td>
<td align="right">1.181</td>
<td align="right">0.274</td>
</tr>
<tr class="even">
<td align="left">M</td>
<td align="right">-1.489</td>
<td align="right">0.174</td>
</tr>
<tr class="odd">
<td align="left">Lm</td>
<td align="right">3.816</td>
<td align="right">0.103</td>
</tr>
<tr class="even">
<td align="left">Temperature</td>
<td align="right">24.221</td>
<td align="right">0.575</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="comparison-among-databases">Comparison among databases<a class="anchor" aria-label="anchor" href="#comparison-among-databases"></a>
</h2>
<p>Finally, given this ongoing effort, it is natural to wonder whether
output is consistent across database compilations, statistical
assumptions, and associated model specification. We therefore compare
results for red snapper</p>
<p><img src="Access_files/figure-html/unnamed-chunk-11-1.png" width="700"></p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by James Thorson.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
